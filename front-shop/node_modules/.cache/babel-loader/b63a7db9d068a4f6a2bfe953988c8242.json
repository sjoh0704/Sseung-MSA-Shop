{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useState, useReducer } from 'react';\nimport asyncReducer from 'async';\n\nfunction useAsync(callback, deps = []) {\n  _s();\n\n  const [state, dispatch] = useReducer(asyncReducer, {\n    loading: false,\n    data: null,\n    error: null\n  });\n\n  const fetchData = async () => {\n    dispatch({\n      type: 'LOADING'\n    });\n\n    try {\n      const data = await callback();\n      dispatch({\n        type: \"SUCCESS\",\n        data: data\n      });\n    } catch (e) {\n      dispatch({\n        type: 'ERROR',\n        error: e\n      });\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, deps);\n  return [state, fetchData];\n}\n\n_s(useAsync, \"yXPv33wEG8slitvOxFXyR/ktjvI=\");\n\nexport default useAsync;","map":{"version":3,"sources":["/home/seung/react/shop/front-shop/src/components/useAsync.js"],"names":["React","useEffect","useState","useReducer","asyncReducer","useAsync","callback","deps","state","dispatch","loading","data","error","fetchData","type","e","console","log"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,QAAR,EAAkBC,UAAlB,QAAmC,OAAnC;AACA,OAAOC,YAAP,MAAyB,OAAzB;;AAEA,SAASC,QAAT,CAAkBC,QAAlB,EAA4BC,IAAI,GAAG,EAAnC,EAAsC;AAAA;;AAClC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,UAAU,CAACC,YAAD,EAAe;AAC/CM,IAAAA,OAAO,EAAE,KADsC;AAE/CC,IAAAA,IAAI,EAAE,IAFyC;AAG/CC,IAAAA,KAAK,EAAE;AAHwC,GAAf,CAApC;;AAKA,QAAMC,SAAS,GAAG,YAAW;AACzBJ,IAAAA,QAAQ,CAAC;AACLK,MAAAA,IAAI,EAAE;AADD,KAAD,CAAR;;AAGA,QAAG;AACC,YAAMH,IAAI,GAAG,MAAML,QAAQ,EAA3B;AACAG,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAE,SADD;AAELH,QAAAA,IAAI,EAAEA;AAFD,OAAD,CAAR;AAIH,KAND,CAOA,OAAMI,CAAN,EAAQ;AAEJN,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAE,OADD;AAELF,QAAAA,KAAK,EAAEG;AAFF,OAAD,CAAR;AAIAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AAEJ,GApBD;;AAsBAd,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,SAAS;AACZ,GAFQ,EAENN,IAFM,CAAT;AAIA,SAAO,CAACC,KAAD,EAAQK,SAAR,CAAP;AAGH;;GAnCQR,Q;;AAqCT,eAAeA,QAAf","sourcesContent":["import React, { useEffect } from 'react'\nimport {useState, useReducer} from 'react'\nimport asyncReducer from 'async'\n\nfunction useAsync(callback, deps = []){\n    const [state, dispatch] = useReducer(asyncReducer, {\n        loading: false,\n        data: null,\n        error: null,\n    })\n    const fetchData = async () =>{\n        dispatch({\n            type: 'LOADING'\n        })\n        try{\n            const data = await callback();\n            dispatch({\n                type: \"SUCCESS\",\n                data: data\n            });\n        }\n        catch(e){\n          \n            dispatch({\n                type: 'ERROR',\n                error: e\n            })\n            console.log(e);\n        }\n        \n    }\n    \n    useEffect(() => {\n        fetchData();\n    }, deps)\n\n    return [state, fetchData];\n\n\n} \n\nexport default useAsync;"]},"metadata":{},"sourceType":"module"}